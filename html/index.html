<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="style.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
        <script type="module" src="translations.js"></script>
        <script type="module" src="app.js"></script>
        <title>SG Fuel</title>
    </head>
    <body>
        <!-- Fuel Input Panel (Bottom Center) -->
        <div id="fuel-input-card" class="fuel-card fuel-card--bottom">
            <header class="card-header">
                <h1>
                    <i class="fas fa-gas-pump"></i>
                    <span id="station-name-input"></span>
                </h1>
                <div class="fuel-info" data-translations="vehicle_fuel">
                    <i class="fas fa-tachometer-alt"></i>
                    <span id="capacity"></span>
                </div>
            </header>

            <section class="card-section">
                <form id="fuel-form" aria-label="Fuel purchase form">
                    <div class="input-grid">
                        <div class="field">
                            <label for="liter" data-translations="liters"></label>
                            <input
                                min="0"
                                step="1"
                                type="number"
                                id="liter"
                                name="liter"
                                value="0"
                                placeholder="0"
                                inputmode="numeric"
                            />
                        </div>
                        <div class="field">
                            <label for="price" data-translations="price"></label>
                            <input
                                min="0"
                                step="1"
                                type="number"
                                id="price"
                                name="price"
                                value="0"
                                placeholder="0"
                                inputmode="numeric"
                            />
                        </div>
                        <div class="actions">
                            <button id="start-button" type="submit" data-translations="start_fueling"></button>
                        </div>
                    </div>

                    <div class="input-progress">
                        <div id="input-progress-fill"></div>
                    </div>
                </form>
            </section>
        </div>

        <!-- Pump Display Panel (Bottom Center) -->
        <div id="pump-display-card" class="fuel-card fuel-card--bottom pump-display">
            <header class="card-header">
                <h1>
                    <i class="fas fa-gas-pump"></i>
                    <span data-translations="fueling_in_progress">Fueling In Progress</span>
                </h1>
                <div class="station-info">
                    <i class="fas fa-map-marker-alt"></i>
                    <span id="station-name">Gas Station</span>
                </div>
            </header>

            <section class="pump-section">
                <div class="fuel-display">
                    <div class="display-row">
                        <span class="label" data-translations="litres_pumped">Litres:</span>
                        <span id="litres-pumped" class="value">0.00</span>
                    </div>
                    <div class="display-row">
                        <span class="label" data-translations="total_cost">Total:</span>
                        <span id="total-cost" class="value">0.00</span>
                    </div>
                    <div class="display-row">
                        <span class="label" data-translations="price_per_litre">Per Litre:</span>
                        <span id="price-per-litre" class="value">0.00</span>
                    </div>
                </div>

                <div class="pump-progress">
                    <div class="progress-bar">
                        <div id="pump-progress-fill"></div>
                    </div>
                    <div class="progress-text">
                        <span id="progress-percentage">0%</span>
                    </div>
                </div>

                <div class="pump-controls">
                    <div class="fuel-rate">
                        <span data-translations="fuel_rate">Rate: </span>
                        <span id="current-rate">2.5 L/s</span>
                    </div>
                </div>
            </section>
        </div>

        <!-- Custom Progress Bar -->
        <div id="progress-container" class="progress-container">
            <div class="progress-card">
                <div class="progress-header">
                    <span id="progress-label">Loading...</span>
                </div>
                <div class="progress-bar-wrapper">
                    <div class="progress-bar-bg">
                        <div id="progress-bar-fill" class="progress-bar-fill"></div>
                    </div>
                    <div class="progress-percentage">
                        <span id="progress-percent">0%</span>
                    </div>
                </div>
                <div class="progress-cancel" id="progress-cancel-container" style="display: none;">
                    <button id="progress-cancel-btn" class="cancel-btn-progress">Press ESC to cancel</button>
                </div>
            </div>
        </div>

        <!-- Management Tablet UI -->
        <div id="management-tablet" class="container-wrapper" style="display: none;">
            <div class="container-tablet">
                <div class="container-header">
                    <div class="container-header-left">
                        <h3 class="container-title">
                            <i class="fas fa-gas-pump"></i>
                            <span id="mgmt-station-name">Gas Station</span>
                        </h3>
                    </div>
                    <div class="container-header-right">
                        <button class="container-btn-close" id="close-management">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                </div>
                <div class="container-body">
                <!-- Main Dashboard -->
                <div id="management-main" class="boss-menu-content">
                    <!-- Status Overview -->
                    <div class="boss-menu-section">
                        <div class="boss-menu-section-header">
                            <div class="boss-menu-section-title">
                                <i class="fas fa-chart-line"></i>
                                <span>Station Overview</span>
                            </div>
                        </div>
                        <div class="boss-menu-stats">
                            <div class="boss-menu-stat">
                                <div class="boss-menu-stat-label">Station Status</div>
                                <div class="boss-menu-stat-value" id="mgmt-status"></div>
                            </div>
                            <div class="boss-menu-stat">
                                <div class="boss-menu-stat-label">Fuel Reserves</div>
                                <div class="boss-menu-stat-value" id="mgmt-fuel"></div>
                            </div>
                            <div class="boss-menu-stat">
                                <div class="boss-menu-stat-label">Balance</div>
                                <div class="boss-menu-stat-value" id="mgmt-balance"></div>
                            </div>
                            <div class="boss-menu-stat">
                                <div class="boss-menu-stat-label">Today's Revenue</div>
                                <div class="boss-menu-stat-value" id="mgmt-today"></div>
                            </div>
                            <div class="boss-menu-stat">
                                <div class="boss-menu-stat-label">Weekly Revenue</div>
                                <div class="boss-menu-stat-value" id="mgmt-weekly"></div>
                            </div>
                            <div class="boss-menu-stat" id="delivery-status-card" style="display: none;">
                                <div class="boss-menu-stat-label">Delivery Status</div>
                                <div class="boss-menu-stat-value" id="mgmt-delivery"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Quick Actions -->
                    <div class="boss-menu-section">
                        <div class="boss-menu-section-header">
                            <div class="boss-menu-section-title">
                                <i class="fas fa-tasks"></i>
                                <span>Quick Actions</span>
                            </div>
                        </div>
                        <div class="boss-menu-actions">
                            <button class="boss-menu-action-btn" id="btn-settings">
                                <i class="fas fa-cog"></i>
                                <span>Station Settings</span>
                            </button>
                            <button class="boss-menu-action-btn" id="btn-order-fuel" style="display: none;">
                                <i class="fas fa-truck"></i>
                                <span>Order Fuel</span>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Settings Page -->
                <div id="management-settings" class="boss-menu-content" style="display: none;">
                    <div class="container-header" style="position: static; margin: -24px -24px 24px -24px; border-bottom: 1px solid rgba(107,114,128,0.2);">
                        <div class="container-header-left">
                            <h3 class="container-title">
                                <i class="fas fa-cog"></i>
                                <span>Station Settings</span>
                            </h3>
                        </div>
                        <div class="container-header-right">
                            <button class="container-btn-close" id="back-from-settings">
                                <i class="fas fa-arrow-left"></i>
                            </button>
                        </div>
                    </div>
                    <div>
                        <div class="settings-list">
                            <button class="settings-item" id="btn-set-price">
                                <div class="settings-icon">
                                    <i class="fas fa-dollar-sign"></i>
                                </div>
                                <div class="settings-info">
                                    <div class="settings-title">Set Fuel Price</div>
                                    <div class="settings-desc" id="current-price-display"></div>
                                </div>
                                <div class="settings-arrow">
                                    <i class="fas fa-chevron-right"></i>
                                </div>
                            </button>

                            <button class="settings-item" id="btn-transactions">
                                <div class="settings-icon">
                                    <i class="fas fa-search"></i>
                                </div>
                                <div class="settings-info">
                                    <div class="settings-title">Transaction History</div>
                                    <div class="settings-desc">View recent sales</div>
                                </div>
                                <div class="settings-arrow">
                                    <i class="fas fa-chevron-right"></i>
                                </div>
                            </button>

                            <button class="settings-item" id="btn-statistics">
                                <div class="settings-icon">
                                    <i class="fas fa-chart-bar"></i>
                                </div>
                                <div class="settings-info">
                                    <div class="settings-title">View Statistics</div>
                                    <div class="settings-desc">Performance metrics</div>
                                </div>
                                <div class="settings-arrow">
                                    <i class="fas fa-chevron-right"></i>
                                </div>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Set Price Page -->
                <div id="management-price" class="boss-menu-content" style="display: none;">
                    <div class="container-header" style="position: static; margin: -24px -24px 24px -24px; border-bottom: 1px solid rgba(107,114,128,0.2);">
                        <div class="container-header-left">
                            <h3 class="container-title">
                                <i class="fas fa-dollar-sign"></i>
                                <span>Set Fuel Price</span>
                            </h3>
                        </div>
                        <div class="container-header-right">
                            <button class="container-btn-close" id="back-from-price">
                                <i class="fas fa-arrow-left"></i>
                            </button>
                        </div>
                    </div>
                    <div class="boss-menu-section">
                        <div class="input-form">
                            <div class="form-group">
                                <label for="price-input">Price per Litre</label>
                                <input type="number" id="price-input" placeholder="0" min="0" step="1" />
                                <div class="form-hint" id="price-hint">Current price: R0</div>
                            </div>
                            <button class="submit-btn" id="submit-price">Update Price</button>
                        </div>
                    </div>
                </div>

                <!-- Order Fuel Page -->
                <div id="management-order" class="boss-menu-content" style="display: none;">
                    <div class="container-header" style="position: static; margin: -24px -24px 24px -24px; border-bottom: 1px solid rgba(107,114,128,0.2);">
                        <div class="container-header-left">
                            <h3 class="container-title">
                                <i class="fas fa-truck"></i>
                                <span>Order Fuel</span>
                            </h3>
                        </div>
                        <div class="container-header-right">
                            <button class="container-btn-close" id="back-from-order">
                                <i class="fas fa-arrow-left"></i>
                            </button>
                        </div>
                    </div>
                    <div class="boss-menu-section">
                        <div class="input-form">
                            <div class="form-group">
                                <label for="order-amount">Amount (Litres)</label>
                                <input type="number" id="order-amount" placeholder="0" min="0" step="100" />
                                <div class="form-hint" id="order-hint">Cost will be calculated</div>
                            </div>
                            <button class="submit-btn" id="submit-order">Place Order</button>
                        </div>
                    </div>
                </div>

                <!-- Transactions Page -->
                <div id="management-transactions" class="boss-menu-content" style="display: none;">
                    <div class="container-header" style="position: static; margin: -24px -24px 24px -24px; border-bottom: 1px solid rgba(107,114,128,0.2);">
                        <div class="container-header-left">
                            <h3 class="container-title">
                                <i class="fas fa-search"></i>
                                <span>Transactions</span>
                            </h3>
                        </div>
                        <div class="container-header-right">
                            <button class="container-btn-close" id="back-from-transactions">
                                <i class="fas fa-arrow-left"></i>
                            </button>
                        </div>
                    </div>
                    <div class="boss-menu-section">
                        <div id="transactions-list" class="transactions-list">
                            <!-- Transactions will be populated here -->
                        </div>
                    </div>
                </div>

                <!-- Statistics Page -->
                <div id="management-statistics" class="boss-menu-content" style="display: none;">
                    <div class="container-header" style="position: static; margin: -24px -24px 24px -24px; border-bottom: 1px solid rgba(107,114,128,0.2);">
                        <div class="container-header-left">
                            <h3 class="container-title">
                                <i class="fas fa-chart-line"></i>
                                <span>Statistics</span>
                            </h3>
                        </div>
                        <div class="container-header-right">
                            <button class="container-btn-close" id="back-from-statistics">
                                <i class="fas fa-arrow-left"></i>
                            </button>
                        </div>
                    </div>
                    <div class="boss-menu-section">
                        <div class="boss-menu-stats" id="stats-grid">
                            <!-- Stats will be populated here -->
                        </div>
                    </div>
                </div>
                </div>
                <div class="container-footer">
                    <div class="container-footer-hint">
                        <span>Press ESC to close</span>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>
